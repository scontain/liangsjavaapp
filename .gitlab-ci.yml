stages:
  - build
  - package
  - test
  - deploy

.job_template: &job_tags
  tags:
    - development

include:
  - project: 'feature-team/gitlab-pipeline-templates'
    ref: master
    file: '/templates/common-build.yml'
  - project: 'feature-team/gitlab-pipeline-templates'
    ref: master
    file: '/templates/common-docker.yml'
  - project: 'feature-team/gitlab-pipeline-templates'
    ref: master
    file: '/templates/common-container-scanning.yml'
  - project: 'feature-team/gitlab-pipeline-templates'
    ref: master
    file: '/templates/common-sast.yml'
  - project: 'feature-team/gitlab-pipeline-templates'
    ref: master
    file: '/templates/common-helm-deploy.yml'

build:
  extends: .common-build:build
  stage: build
  <<: *job_tags
